var bg,player,platforms,floorGame,_sheet,books,book,_controls,highFloorTrap,highFloorTrapStart,highFloorTrapEnd,_wall1,_wall2,_wall3,_wall4,_wall5,_wall6,floor,highFloor,coins,coin,textCoins,textBook,textLives,textKeys,textBoxes,textAntidote,tips,tip,bullets,bullet,shooting,sky,setSky,upKey,boxes,box0,box1,box2,box3,box4,box5,box6,box7,box8,box9,box10,box11,box12,box13,box14,box15,box16,box17,box18,setBoxes=[box0,box1,box2,box3,box4,box5,box6,box7,box8,box9,box10,box11,box12,box13,box14,box15,box16,box17,box18],keys,key1,key2,key3,key4,keysName=[key1,key2,key3,key4],leverExit,lever1,lever2,lever3,lever4,lever5,leverExitName=[lever1,lever2,lever3,lever4,lever5],hearts,heart1,heart2,sethearts=[heart1,heart2],_hammers,_hammer1,_hammer2,_hammer3,_hammer4,setHammer=[_hammer1,_hammer2,_hammer3,_hammer4],platformsMini0,platformsMini1,platformsMini2,platformsMini3,platformsMini4,platformsMini5,platformsMini6,platformsMini7,platformsMini8,platformsMini9,platformsMini10,platName=[platformsMini0,platformsMini1,platformsMini2,platformsMini3,platformsMini4,platformsMini5,platformsMini6,platformsMini7],rocks,rock0,rock1,rock2,rock3,rock4,rock5,setRocks=[rock0,rock1,rock2,rock3,rock4,rock5],knifeTrap,knifeTrap2,bg_death,bg_life,bg_keys,bg_keysLK,bg_antidote,bg_antidoteLA,rocksTrap,rockTrap,vortex,platformsNT0,platformsNT1,platformsNT2,platformsNT3,platformsNT4,platformsNT5,platformsNT6,platformsNT7,platformsNT8,platformsNT9,platformsNT10,platformsNT11,platformsNT12,platformsNT13,platformsNT14,platformsNT15,platNT=[platformsNT0,platformsNT1,platformsNT2,platformsNT3,platformsNT4,platformsNT5,platformsNT6,platformsNT7,platformsNT8,platformsNT9,platformsNT10,platformsNT11,platformsNT12,platformsNT13,platformsNT14,platformsNT15],arcs,arc0,arc1,arc2,setArc=[arc0,arc1,arc2],keyOnArcs,keyOnArc0,keyOnArc1,keyOnArc2,setKeyOnArc=[keyOnArc0,keyOnArc1,keyOnArc2],antidote,antidote1,antidote2,antidote3,antidote4,setAntidote=[antidote1,antidote2,antidote3,antidote4],soundDeath,getCoins=0,getBooks=0,getkeys=0,getBoxes=0,getAntidote=0,lives=3,countLives=0,countHammer=0,countRocks=0,countRocksTrap=0,bulletTime=0,countArc=0,putKey1=0,putKey2=0,putKey3=0,final=0,_setGameWidth=21e3,SitGame={preload:function(){game.stage.backgroundColor="blue",game.load.audio("soundDeath","audio/numkey.mp3"),game.load.image("bg","sprites/bg.png"),game.load.image("platform","sprites/platform_3.png"),game.load.image("platform_floor","sprites/floor2.png"),game.load.image("sky","sprites/sky.png"),game.load.image("trap","sprites/trap1.png"),game.load.image("hammer","sprites/hammer.png"),game.load.image("pluma","sprites/pluma.png"),game.load.image("rocks","sprites/rocks.png"),game.load.image("rocksTrap_knife","sprites/knife_trap.png"),game.load.image("knifeTrap","sprites/rocks_trap.png"),game.load.image("bg_death","img/lose_live.png"),game.load.image("bg_life","img/get_live.png"),game.load.image("bg_keys","img/get_key.png"),game.load.image("arc","sprites/arc.png"),game.load.image("mf","sprites/mf.png"),game.load.image("bg_keysLK","img/lose_key.png"),game.load.image("bg_antidote","img/get_antidote.png"),game.load.image("bg_antidoteLA","img/lose_antidote.png"),game.load.image("index_life","sprites/index_life.png"),game.load.image("index_sheet","sprites/index_sheet.png"),game.load.image("index_poison","sprites/index_poison.png"),game.load.image("index_key","sprites/index_key.png"),game.load.image("index_antidote","sprites/index_antidote.png"),game.load.spritesheet("walker","sprites/walker.png",40,67),game.load.spritesheet("tips","sprites/fire.png",120,40),game.load.spritesheet("boxes","sprites/box2.png",70,70),game.load.spritesheet("coins","sprites/coins2.png",20,30),game.load.spritesheet("book","sprites/poison2.png",20,30),game.load.spritesheet("keys","sprites/keys.png",32,40),game.load.spritesheet("leverExit","sprites/palanca.png",40,40),game.load.spritesheet("hearts","sprites/hearts.png",32,32),game.load.spritesheet("vortex","sprites/vortice2.png",300,300),game.load.spritesheet("antidote","sprites/antidote.png",32,64),game.forceSingleUpdate=!0},create:function(){game.physics.startSystem(Phaser.Physics.ARCADE),bg=game.add.tileSprite(0,0,800,600,"bg"),floorGame=game.add.group(),floorGame.enableBody=!0,sky=game.add.group(),sky.enableBody=!0,platforms=game.add.group(),platforms.enableBody=!0,addFunctions.createPlatforms(),game.add.tween(platName[2]).to({width:100},2e3,Phaser.Easing.Bounce.Out,!0).loop(),game.add.tween(platNT[2]).to({x:16700},18e3,Phaser.Easing.Bounce.Out,!0).to({x:15900},18e3,Phaser.Easing.Bounce.Out,!0).loop(),game.add.tween(platNT[3]).to({x:16880},17e3,Phaser.Easing.Bounce.Out,!0).to({x:16500},17e3,Phaser.Easing.Bounce.Out,!0).loop(),game.add.tween(platNT[10]).to({x:18400},19e3,Phaser.Easing.Bounce.Out,!0).to({x:18050},19e3,Phaser.Easing.Bounce.Out,!0).loop(),tips=game.add.group(),tips.enableBody=!0,addFunctions.createTips(),boxes=game.add.group(),boxes.enableBody=!0,addFunctions.createBoxes(),coins=game.add.group(),coins.enableBody=!0,books=game.add.group(),books.enableBody=!0,addFunctions.createConisAndBooks(),keys=game.add.group(),keys.enableBody=!0,addFunctions.createKeys(),hearts=game.add.group(),hearts.enableBody=!0,addFunctions.createHearts(),antidote=game.add.group(),antidote.enableBody=!0,addFunctions.createAntidotes(),bullets=game.add.group(),bullets.enableBody=!0,bullets.physicsBodyType=Phaser.Physics.ARCADE,bullets.createMultiple(20,"pluma"),bullets.setAll("anchor.x",.5),bullets.setAll("anchor.y",.5),bullets.setAll("outOfBoundsKill",!0),bullets.setAll("checkWorldBounds",!0),knifeTrap=game.add.group(),knifeTrap.enableBody=!0;for(var a=0;a<72;a++)knifeTrap2=knifeTrap.create(11900+50*a,32,"knifeTrap"),knifeTrap2.width=40,knifeTrap2.height=40,knifeTrap2.body.gravity.y=160+160*Math.random(),knifeTrap2.body.bounce.setTo(1);rocksTrap=game.add.group(),rocksTrap.enableBody=!0;for(var b=[15600,15720,16190,16520,16580,16700,16820,16920],a=0;a<b.length;a++)rockTrap=rocksTrap.create(b[a],491,"rocksTrap_knife"),rockTrap.visible=!0;player=game.add.sprite(game.width/2,game.world.height-350,"walker"),player.anchor.setTo(.5,.5),game.physics.arcade.enable(player),player.body.bounce.y=.2,player.body.gravity.y=800,player.body.collideWorldBounds=!0,player.animations.add("moveRight",[0,1,2,3,4,5,6],10,!0),player.animations.add("moveLeft",[13,12,11,10,9,8,7],10,!0),player.body.velocity.x=0,player.body.velocity.y=0,_hammers=game.add.group(),_hammers.enableBody=!0,addFunctions.createHmmaer(),game.add.tween(setHammer[0]).to({height:800},3400,Phaser.Easing.Bounce.Out,!0).loop(),game.add.tween(setHammer[1]).to({height:800},3300,Phaser.Easing.Bounce.Out,!0).loop(),game.add.tween(setHammer[2]).to({height:800},3200,Phaser.Easing.Bounce.Out,!0).loop(),game.add.tween(setHammer[3]).to({height:800},3220,Phaser.Easing.Bounce.Out,!0).loop(),leverExit=game.add.group(),leverExit.enableBody=!0,addFunctions.createLeverExit(),rocks=game.add.group(),rocks.enableBody=!0,addFunctions.createRocks(),arcs=game.add.group(),arcs.enableBody=!0,addFunctions.createArcs(),emitter=game.add.emitter(18650,game.world.height-184,200),emitter.makeParticles("mf"),vortex=game.add.sprite(18650,game.world.height-164,"vortex"),vortex.anchor.setTo(.5,.5),vortex.visible=!1,game.add.tween(vortex).to({angle:-45},300,Phaser.Easing.Linear.None,!0).loop(),keyOnArcs=game.add.group(),keyOnArcs.enableBody=!0,addFunctions.createKeysOnArcs(),soundDeath=game.add.audio("soundDeath"),textCoins=game.add.text(65,16," 0",{fontSize:"16px",fill:"#fff"}),textBook=game.add.text(165,16," 0",{fontSize:"16px",fill:"#fff"}),textKeys=game.add.text(240,16," 0",{fontSize:"16px",fill:"#fff"}),textLives=game.add.text(345,16," 3",{fontSize:"16px",fill:"#fff"}),textAntidote=game.add.text(420,16," 0",{fontSize:"16px",fill:"#fff"}),index_sheet=game.add.sprite(20,0,"index_sheet"),index_poison=game.add.sprite(120,0,"index_poison"),index_key=game.add.sprite(210,0,"index_key"),index_life=game.add.sprite(290,0,"index_life"),index_antidote=game.add.sprite(390,0,"index_antidote"),bg_death=game.add.sprite(0,0,"bg_death"),bg_death.visible=!1,bg_life=game.add.sprite(0,0,"bg_life"),bg_life.visible=!1,bg_keys=game.add.sprite(0,0,"bg_keys"),bg_keys.visible=!1,bg_keysLK=game.add.sprite(0,0,"bg_keysLK"),bg_keysLK.visible=!1,bg_antidote=game.add.sprite(0,0,"bg_antidote"),bg_antidote.visible=!1,bg_antidoteLA=game.add.sprite(0,0,"bg_antidoteLA"),bg_antidoteLA.visible=!1,_controls=game.input.keyboard.createCursorKeys(),shooting=game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR)},update:function(){game.physics.arcade.collide(player,floorGame),game.physics.arcade.collide(player,sky),game.physics.arcade.collide(player,platforms),game.physics.arcade.collide(coins,platforms),game.physics.arcade.collide(books,platforms),game.physics.arcade.collide(knifeTrap,platforms),game.physics.arcade.overlap(player,highFloorTrapStart,addFunctions.activeteTrap,null,this),game.physics.arcade.overlap(player,_wall1,addFunctions.giveBackLeft,null,this),game.physics.arcade.overlap(player,_wall2,addFunctions.giveBackRight,null,this),game.physics.arcade.overlap(player,_wall3,addFunctions.giveBackRight,null,this),game.physics.arcade.overlap(player,_wall4,addFunctions.giveBackRight,null,this),game.physics.arcade.overlap(player,_wall5,addFunctions.giveBackRight,null,this),game.physics.arcade.overlap(bullets,boxes,addFunctions.destroyBoxes,null,this),game.physics.arcade.overlap(player,coins,addFunctions.collectCoins,null,this),game.physics.arcade.overlap(player,books,addFunctions.collectBooks,null,this),game.physics.arcade.overlap(player,keys,addFunctions.collectKeys,null,this),game.physics.arcade.overlap(player,hearts,addFunctions.collectHearts,null,this),game.physics.arcade.overlap(player,antidote,addFunctions.collectAntidote,null,this),game.physics.arcade.overlap(player,leverExitName[0],addFunctions.disableTrap,null,this),game.physics.arcade.overlap(player,leverExitName[1],addFunctions.disableRock1,null,this),game.physics.arcade.overlap(player,leverExitName[2],addFunctions.disableRock2,null,this),game.physics.arcade.overlap(player,leverExitName[3],addFunctions.disableWall4,null,this),game.physics.arcade.overlap(player,tips,addFunctions.loseLives,null,this),game.physics.arcade.overlap(player,rocksTrap,addFunctions.loseLivesRT,null,this),game.physics.arcade.overlap(player,setHammer,addFunctions.loseLivesH,null,this),game.physics.arcade.overlap(player,setRocks,addFunctions.loseLivesRocks,null,this),game.physics.arcade.overlap(player,knifeTrap,addFunctions.loseLivesKT,null,this),game.physics.arcade.overlap(bullets,rocks,addFunctions.killBullets,null,this),game.physics.arcade.overlap(player,setArc[0],addFunctions.putTheKey1,null,this),game.physics.arcade.overlap(player,setArc[1],addFunctions.putTheKey2,null,this),game.physics.arcade.overlap(player,setArc[2],addFunctions.putTheKey3,null,this),game.physics.arcade.overlap(player,_wall6,addFunctions.theGameFinished,null,this),1==final&&this.state.start("GameFinished"),0==lives&&this.state.start("GameOver"),_controls.left.isDown?(player.animations.play("moveLeft"),platforms.position.x<0&&addFunctions.moveItemsLeft()):_controls.right.isDown?(player.animations.play("moveRight"),addFunctions.moveItemsRight()):_controls.down.isDown?getAntidote>0&&getBooks>0&&(getBooks=0,textBook.text=getBooks,getAntidote-=1,textAntidote.text=getAntidote,setTimeout(function(){game.paused=!1,bg_antidoteLA.visible=!1},1400),game.paused=!0,bg_antidoteLA.visible=!0):(player.animations.stop(),player.frame=3),_controls.up.isDown&&player.body.touching.down&&(player.body.velocity.y=-490),shooting.isDown&&_controls.left.isDown?(game.time.now>bulletTime&&(bullet=bullets.getFirstExists(!1)),bullet&&(bullet.reset(player.x-10,player.y),bullet.scale.setTo(-1,1),bullet.body.velocity.x=-360,bulletTime=game.time.now+110)):shooting.isDown&&_controls.right.isDown?(game.time.now>bulletTime&&(bullet=bullets.getFirstExists(!1)),bullet&&(bullet.reset(player.x+20,player.y),bullet.scale.setTo(1,1),bullet.body.velocity.x=360,bulletTime=game.time.now+110)):shooting.isDown&&(game.time.now>bulletTime&&(bullet=bullets.getFirstExists(!1)),bullet&&(bullet.reset(player.x+20,player.y),bullet.scale.setTo(1,1),bullet.body.velocity.x=360,bulletTime=game.time.now+110))}},addFunctions={createPlatforms:function(){for(var a=Math.round(_setGameWidth/400),b=0,c=0;c<a;c++)c>0&&(b+=400),floor=platforms.create(b,game.world.height-64,"platform_floor"),floor.body.immovable=!0,setSky=sky.create(b,0,"sky"),setSky.body.immovable=!0;for(var d=[450,900,1200,3100,3570,4100,4950,5180,5580,5920,6930,7e3,7030,7450,7850,8250,7850,7850,8650,8450,9300,9700,10100,10500,10900,10200,10670,11310,11450,9200,9050],e=[400,320,170,400,400,280,400,260,390,260,400,275,165,400,400,400,280,150,280,220,220,220,220,220,220,410,410,390,280,165,145],c=0;c<d.length;c++)highFloor=platforms.create(d[c],e[c],"platform"),c>9&&c<13&&(highFloor.width=100),17==c&&(highFloor.width=460),c>17&&c<20&&(highFloor.width=100),c>27&&c<31&&(highFloor.width=100),c>27&&c<31&&(highFloor.width=100),highFloor.body.immovable=!0;for(var f=[2e3,2070,2700,2330,2540,2620,2110,2200],g=[25,400,175,400,400,290,140,280],h=[800,155,32,160,180,150,590,250],c=0;c<f.length;c++)platName[c]=platforms.create(f[c],g[c],"platform"),platName[c].width=h[c],platName[c].visible=!1,platName[c].body.immovable=!0;for(var i=[15650,15770,15900,16500,17e3,16360,16670,16850,17300,17750,18050,18500,18900,19300,19700],j=[400,280,175,175,150,270,400,400,400,280,175,175,175,280,175],k=[400,300,120,120,120,80,150,200,400,300,120,400,400,400,400],c=0;c<i.length;c++)platNT[c]=platforms.create(i[c],j[c],"platform"),platNT[c].width=k[c],platNT[c].body.immovable=!0;platNT[5].visible=!1,platNT[6].visible=!1,platNT[7].visible=!1,highFloorTrapStart=platforms.create(1900,0,"trap"),highFloorTrapStart.width=32,highFloorTrapStart.height=800,highFloorTrapStart.body.immovable=!0,_wall1=platforms.create(2e3,0,"platform"),_wall1.width=40,_wall1.height=800,_wall1.visible=!1,_wall1.body.immovable=!0,_wall2=platforms.create(2800,0,"platform"),_wall2.width=40,_wall2.height=800,_wall2.visible=!1,_wall2.body.immovable=!0,_wall3=platforms.create(11720,0,"platform"),_wall3.width=40,_wall3.height=800,_wall3.visible=!0,_wall3.body.immovable=!0,_wall4=platforms.create(17200,0,"platform"),_wall4.width=40,_wall4.height=800,_wall4.visible=!0,_wall4.body.immovable=!0,_wall5=platforms.create(20200,0,"platform"),_wall5.width=40,_wall5.height=800,_wall5.visible=!0,_wall5.body.immovable=!0,_wall6=platforms.create(18650,300,"trap"),_wall6.width=120,_wall6.height=800,_wall6.visible=!1,_wall6.body.immovable=!0},createHmmaer:function(){for(var a=[6500,6660,6860,7100],b=[0,0,0,0],c=[210,180,200,150],d=0;d<a.length;d++)setHammer[d]=_hammers.create(a[d],b[d],"hammer"),setHammer[d].height=c[d],setHammer[d].width=40,setHammer[d].body.immovable=!0},activeteTrap:function(){_wall1.visible=!0,_wall2.visible=!0,addFunctions.giveBackLeft();for(var a=0;a<4;a++)setBoxes[a].visible=!0;for(var b=0;b<platName.length;b++)platName[b].visible=!0;setTimeout(function(){highFloorTrapStart.visible=!1},1e3)},disableTrap:function(){leverExitName[0].frame=1,platName[3].width=45,platName[3].x=2347,setTimeout(function(){_wall1.visible=!1,_wall2.visible=!1},100)},moveItemsLeft:function(){platforms.x+=3,_hammers.x+=3,coins.x+=3,books.x+=3,tips.x+=3,boxes.x+=3,keys.x+=3,leverExit.x+=3,hearts.x+=3,sky.x+=3,rocks.x+=3,rocksTrap.x+=3,knifeTrap.x+=3,emitter.x+=3,vortex.x+=3,arcs.x+=3,keyOnArcs.x+=3,antidote.x+=3},moveItemsRight:function(){platforms.x-=3,_hammers.x-=3,coins.x-=3,books.x-=3,tips.x-=3,boxes.x-=3,keys.x-=3,leverExit.x-=3,hearts.x-=3,sky.x-=3,rocks.x-=3,rocksTrap.x-=3,knifeTrap.x-=3,emitter.x-=3,vortex.x-=3,arcs.x-=3,keyOnArcs.x-=3,antidote.x-=3},giveBackLeft:function(){platforms.position.x-=100,_hammers.position.x-=100,coins.position.x-=100,books.position.x-=100,tips.position.x-=100,boxes.position.x-=100,keys.position.x-=100,leverExit.position.x-=100,hearts.position.x-=100,sky.position.x-=100,rocks.position.x-=100,knifeTrap.position.x-=100,rocksTrap.position.x-=100,emitter.position.x-=100,vortex.position.x-=100,arcs.position.x-=100,keyOnArcs.position.x-=100,antidote.position.x-=100,player.position.y=320},giveBackRight:function(){platforms.position.x+=100,_hammers.position.x+=100,coins.position.x+=100,books.position.x+=100,tips.position.x+=100,boxes.position.x+=100,keys.position.x+=100,leverExit.position.x+=100,hearts.position.x+=100,sky.position.x+=100,rocks.position.x+=100,knifeTrap.position.x+=100,rocksTrap.position.x+=100,emitter.position.x+=100,vortex.position.x+=100,arcs.position.x+=100,keyOnArcs.position.x+=100,antidote.position.x+=100,player.position.y=320},createConisAndBooks:function(){for(var a=8,b=[470,910,1210,3120,3580,4120,675,3230,3620,4950,5180,5580,5920,5420,5870,7460,7860,8360,11180,9950,10350,10750,15650,17300,17700],c=[0,290,0,0,0,0,500,490,490,370,0,340,0,500,500,0,490,0,490,0,0,0,350,340,0],d=0;d<b.length;d++)for(var e=Math.floor(7*Math.random()+1),f=0;f<a;f++)e!=f?(coin=coins.create(b[d]+50*f,c[d],"coins"),coin.body.gravity.y=100+100*Math.random(),coin.body.bounce.setTo(.2),coin.animations.add("moveCoins",[0,1,2,3],4,!0),coin.animations.play("moveCoins")):(book=books.create(b[d]+50*f,c[d],"book"),book.body.gravity.y=100+100*Math.random(),book.body.bounce.setTo(.2),book.animations.add("moveBook",[0,1,2,3],4,!0),book.animations.play("moveBook"))},createTips:function(){for(var a=[100,550,1080,1500,2230,2470,3100,4e3,4120,4540,5290,9300,9900,10980],b=[496,496,496,496,496,496,496,496,496,496,496,496,496,496],c=0;c<a.length;c++)tip=tips.create(a[c],b[c],"tips"),tip.body.immovable=!0,tip.animations.add("tipsMove",[0,1,2],12,!0),tip.animations.play("tipsMove")},createRocks:function(){for(var a=[6310,7480,8350,9590,10150,11110],b=[477,477,477,477,477,160],c=0;c<a.length;c++)setRocks[c]=rocks.create(a[c],b[c],"rocks"),setRocks[c].body.immovable=!0},createBoxes:function(){for(var a=[2150,2400,2140,2700,1240,1300,4360,4410,4360,5180,5250,7960,8030,10790,10860,9700,9770,11600,11670],b=[105,245,501,255,501,501,501,501,432,501,501,115,115,501,501,185,185,355,355],c=0;c<a.length;c++)setBoxes[c]=boxes.create(a[c],b[c],"boxes"),setBoxes[c].anchor.setTo(.5,.5),setBoxes[c].body.immovable=!0,setBoxes[c].animations.add("boxMove",[1,2],12,!1),setBoxes[c].frame=0,setBoxes[c].visible=!(c<3)},createAntidotes:function(){for(var a=[1240,4360,10790,9770],b=[501,501,501,180],c=0;c<a.length;c++)setAntidote[c]=antidote.create(a[c],b[c],"antidote"),setAntidote[c].anchor.setTo(.5,.5),setAntidote[c].visible=!1,setAntidote[c].body.immovable=!0,setAntidote[c].animations.add("antidoteMove",[0,1],4,!0),setAntidote[c].animations.play("antidoteMove")},createKeys:function(){for(var a=[2150,7065,16390],b=[100,130,245],c=0;c<a.length;c++)keysName[c]=keys.create(a[c],b[c],"keys"),keysName[c].anchor.setTo(.5,.5),keysName[c].body.immovable=!0,keysName[c].animations.add("keyMove",[0,1,2,3],4,!0),keysName[c].animations.play("keyMove");keysName[0].visible=!1,keysName[2].visible=!1},createLeverExit:function(){for(var a=[2750,8100,9100,17055,19900],b=[516,260,125,130],c=0;c<a.length;c++)leverExitName[c]=leverExit.create(a[c],b[c],"leverExit"),leverExitName[c].anchor.setTo(.5,.5),leverExitName[c].scale.setTo(-1,1),leverExitName[c].body.immovable=!0,leverExitName[c].visible=!1,leverExitName[c].animations.add("leverMove",[0,1],12,!1),leverExitName[c].frame=0;leverExitName[3].visible=!0},createHearts:function(){for(var a=[2410,7900],b=[510,100],c=0;c<a.length;c++)sethearts[c]=hearts.create(a[c],b[c],"hearts"),sethearts[c].anchor.setTo(.5,.5),sethearts[c].body.immovable=!0,sethearts[c].animations.add("heartMove",[0,1],4,!0),sethearts[c].animations.play("heartMove");sethearts[0].visible=!1},createArcs:function(){for(var a=[19e3,19500,19900],b=[121,226,121],c=0;c<a.length;c++)setArc[c]=arcs.create(a[c],b[c],"arc"),setArc[c].anchor.setTo(.5,.5),setArc[c].visible=!0,setArc[c].body.immovable=!0},createKeysOnArcs:function(){for(var a=[19005,19505,19905],b=[151,256,151],c=0;c<a.length;c++)setKeyOnArc[c]=keyOnArcs.create(a[c],b[c],"keys"),setKeyOnArc[c].anchor.setTo(.5,.5),setKeyOnArc[c].body.immovable=!0,setKeyOnArc[c].visible=!1,setKeyOnArc[c].animations.add("keyOAMove",[0,1,2,3],4,!0),setKeyOnArc[c].animations.play("keyOAMove")},collectCoins:function(a,b){getCoins+=1,textCoins.text=getCoins,b.kill()},collectBooks:function(a,b){getBooks+=1,4==getBooks&&(lives-=1,getBooks=0,lives<=0&&(lives=0),textLives.text=lives,setTimeout(function(){game.paused=!1,bg_death.visible=!1},1400),game.paused=!0,bg_death.visible=!0),textBook.text=getBooks,b.kill()},collectAntidote:function(a,b){getAntidote+=1,b.kill(),setTimeout(function(){game.paused=!1,bg_antidote.visible=!1},1400),game.paused=!0,bg_antidote.visible=!0,textAntidote.text=getAntidote},loseLives:function(){lives-=1,lives<=0?(lives=0,textLives.text=lives,player.kill()):textLives.text=lives,setTimeout(function(){game.paused=!1,bg_death.visible=!1},1400),addFunctions.giveBackRight(),game.paused=!0,bg_death.visible=!0},loseLivesH:function(a,b){20==countHammer?(getCoins-=10,getCoins<=0?(getCoins=0,textCoins.text=getCoins):textCoins.text=getCoins,countHammer=0):countHammer++},loseLivesKT:function(a,b){20==countRocksTrap?(getCoins-=7,getCoins<=0?(getCoins=0,textCoins.text=getCoins):textCoins.text=getCoins,countRocksTrap=0):countRocksTrap++},loseLivesRT:function(a,b){lives-=1,lives<=0?(lives=0,textLives.text=lives,a.kill()):textLives.text=lives,setTimeout(function(){game.paused=!1,bg_death.visible=!1},1400),addFunctions.giveBackRight(),game.paused=!0,bg_death.visible=!0},loseLivesRocks:function(a,b){getCoins-=8,getCoins<=0?(getCoins=0,textCoins.text=getCoins):textCoins.text=getCoins,addFunctions.giveBackRight()},destroyBoxes:function(a,b){b.animations.play("boxMove"),a.kill(),2==setBoxes[2].frame&&(keysName[0].visible=!0),2==setBoxes[6].frame&&(setBoxes[8].y=510,setAntidote[1].visible=!0),2==setBoxes[11].frame&&(leverExitName[1].visible=!0),2==setBoxes[15].frame&&(leverExitName[2].visible=!0),2==setBoxes[18].frame&&(setRocks[5].visible=!1),2==setBoxes[4].frame&&(setAntidote[0].visible=!0),2==setBoxes[13].frame&&(setAntidote[2].visible=!0),2==setBoxes[16].frame&&(setAntidote[3].visible=!0)},collectKeys:function(a,b){getkeys+=1,textKeys.text=getkeys,b.kill(),1==getkeys&&(leverExitName[0].visible=!0,sethearts[0].visible=!0,b.kill()),setTimeout(function(){game.paused=!1,bg_keys.visible=!1},1400),game.paused=!0,bg_keys.visible=!0},collectHearts:function(a,b){lives+=1,textLives.text=lives,b.kill(),setTimeout(function(){game.paused=!1,bg_life.visible=!1},1400),game.paused=!0,bg_life.visible=!0},killBullets:function(a,b){a.kill()},disableRock1:function(){leverExitName[1].frame=1,setRocks[1].visible=!1,setRocks[2].visible=!1},disableRock2:function(){leverExitName[2].frame=1,_wall3.visible=!1},disableWall4:function(){leverExitName[3].frame=1,_wall4.visible=!1,platNT[5].visible=!0,platNT[6].visible=!0,platNT[7].visible=!0,keysName[2].visible=!0},putTheKey1:function(){getkeys>0&&(0==putKey1&&(countArc+=1,setKeyOnArc[0].visible=!0,putKey1=1,getkeys-=1,textKeys.text=getkeys,setTimeout(function(){game.paused=!1,bg_keysLK.visible=!1},1400),game.paused=!0,bg_keysLK.visible=!0),addFunctions.setTheFuckingVortex())},putTheKey2:function(){getkeys>0&&(0==putKey2&&(countArc+=1,setKeyOnArc[1].visible=!0,putKey2=1,getkeys-=1,textKeys.text=getkeys,setTimeout(function(){game.paused=!1,bg_keysLK.visible=!1},1400),game.paused=!0,bg_keysLK.visible=!0),addFunctions.setTheFuckingVortex())},putTheKey3:function(){getkeys>0&&(0==putKey3&&(countArc+=1,setKeyOnArc[2].visible=!0,putKey3=1,getkeys-=1,textKeys.text=getkeys,setTimeout(function(){game.paused=!1,bg_keysLK.visible=!1},1400),game.paused=!0,bg_keysLK.visible=!0),addFunctions.setTheFuckingVortex())},setTheFuckingVortex:function(){3==countArc&&(emitter.start(!1,2e3,10),vortex.visible=!0,_wall6.visible=!0)},theGameFinished:function(){setTimeout(function(){final=1},1e3)}};